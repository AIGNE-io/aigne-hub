# 简介

![logo.png](../../../blocklets/core/screenshots/logo.png)

AIGNE Hub 是一个统一的 AI 网关，旨在简化对多个大语言模型 (LLM) 和 AIGC 提供商连接的管理。它作为一个集中式控制平台，抽象了处理不同 API 密钥、跟踪使用情况以及管理各种 AI 服务计费的复杂性。它基于 AIGNE 框架构建为一个 [Blocklet](https://blocklet.io)，为企业内部使用和面向公众的服务产品提供了一个强大、可自托管的解决方案。

从运营角度来看，AIGNE Hub 为所有 AI 驱动的应用程序提供了一个单一、一致的端点，从而简化了网络配置、安全策略和监控。

## 系统架构

该系统为可靠性和可伸缩性而设计，利用了现代化的、类型安全的技术栈。

-   **后端**：使用 **Node.js** 和 **TypeScript** 构建，并采用 **Express** 框架。这提供了一个高性能、非阻塞 I/O 的后端，能够处理大量并发连接。入口文件 `blocklets/core/api/src/index.ts` 展示了标准的设置，包括 CORS、cookie 解析和强大的错误处理机制，以确保服务稳定性。
-   **数据库**：通过 **Sequelize ORM** 使用 **SQLite** 进行本地数据持久化，包括用户数据、API 密钥和使用日志。这一选择提供了一个轻量级的、基于文件的数据库解决方案，简化了部署和维护。
-   **前端**：使用 **React 19** 构建的现代化用户界面，用于管理任务、监控和模型测试。
-   **部署**：AIGNE Hub 被打包成一个 **Blocklet**，专为云原生环境设计。这种容器化的方法确保了在不同系统中的一致行为，并简化了在 Blocklet Server 实例上的部署、扩展和管理。

## 核心概念

理解这些核心概念对于有效部署和管理 AIGNE Hub至关重要。

### 统一网关

AIGNE Hub 的基本设计原则是作为多个下游 AI 提供商的单一代理。应用程序向 Hub 发送请求，并指定所需的模型（例如 `openai/gpt-4o`）。Hub 会对请求进行身份验证，验证权限和额度，然后使用安全存储的 API 密钥将其转发给相应的外部提供商。这将所有 AI 流量集中化，使其更易于监控、记录和控制。

### 部署场景

AIGNE Hub 支持两种主要的操作模式，以满足不同的基础设施和业务需求。

#### 企业自托管

对于需要对数据和基础设施进行最大程度控制的组织来说，这是一个理想的场景。

-   **数据隐私**：所有请求和数据在路由到外部 AI 提供商之前，都在您自己的安全边界内处理。
-   **直接计费**：您与 AI 提供商（如 OpenAI、Anthropic）保持直接的计费关系。AIGNE Hub 跟踪使用情况以进行内部成本分摊，但不处理外部支付。
-   **简化管理**：开发团队可以连接到单个内部端点，而无需管理各种 API 密钥和凭证。

#### 服务提供商模式

此模式将 AIGNE Hub 转变为一个多租户、面向客户的 AI 服务平台。

-   **基于额度的计费**：与支付套件集成，以启用预付费额度系统。用户购买额度，然后根据其 AI 模型使用情况消耗这些额度。
-   **自定义定价**：管理员可以为每个模型设置自定义的定价费率和利润率，从而创建可行的商业模式。
-   **自动化引导**：系统支持自动用户注册，并可配置为向新用户授予初始额度。

## 关键运营功能

AIGNE Hub 配备了一套专为强大的运营管理和监控而设计的功能。

| 功能 | 描述 |
| :--- | :--- |
| **多提供商管理** | 用于配置和管理 8+ 家 AI 提供商（包括 OpenAI、Anthropic、Google Gemini 以及通过 Ollama 运行的本地模型）的 API 密钥的中央界面。 |
| **统一安全** | 为所有提供商的 API 密钥提供加密存储。通过 OAuth 集成和细粒度的用户权限来控制访问。 |
| **使用情况分析** | 全面的仪表板，用于跟踪所有用户、模型和提供商的 token 使用量、请求量和成本。 |
| **灵活计费** | 在服务提供商模式下，提供一个完整的基于额度的计费系统，并配备详细的使用情况跟踪和成本分析工具。 |
| **RESTful API** | 提供一套标准化的 HTTP 端点，以便与您网络上的任何应用程序或服务无缝集成。 |
| **内置 Playground** | 一个集成的用户界面，用于实时测试配置好的模型并与之交互，有助于故障排除和验证。 |