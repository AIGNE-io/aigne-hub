# 簡介

![logo.png](../../../blocklets/core/screenshots/logo.png)

AIGNE Hub 是一個統一的 AI 閘道，旨在簡化對多個大型語言模型（LLM）和 AIGC 供應商的連線管理。它作為一個集中式控制平面，抽象化了處理各種 AI 服務中各不相同的 API 金鑰、追蹤用量和管理帳務的複雜性。它基於 AIGNE 框架，建構成一個 [Blocklet](https://blocklet.io)，為企業內部使用和面向公眾的服務產品提供了一個強健、可自行託管的解決方案。

從營運角度來看，AIGNE Hub 為所有 AI 驅動的應用程式提供了一個單一、一致的端點，從而簡化了網路配置、安全策略和監控。

## 系統架構

該系統旨在實現可靠性與可擴展性，並利用了現代化的、類型安全的技術堆疊。

-   **後端**：使用 **Node.js** 和 **TypeScript** 構建，並採用 **Express** 框架。這提供了一個高效能、非阻塞的 I/O 後端，能夠處理大量並行連線。進入點 `blocklets/core/api/src/index.ts` 揭示了一個標準設定，包括 CORS、cookie 解析和強健的錯誤處理，以確保服務穩定性。
-   **資料庫**：透過 **Sequelize ORM** 使用 **SQLite** 進行本地資料持久化，包括使用者資料、API 金鑰和使用日誌。這一選擇提供了一個輕量級、基於檔案的資料庫解決方案，簡化了部署和維護。
-   **前端**：一個使用 **React 19** 構建的現代化使用者介面，用於管理任務、監控和模型測試。
-   **部署**：AIGNE Hub 被打包成一個 **Blocklet**，專為雲原生環境設計。這種容器化方法確保了在不同系統上的一致行為，並簡化了在 Blocklet Server 實例上的部署、擴展和管理。

## 核心概念

了解這些核心概念對於有效部署和管理 AIGNE Hub 至關重要。

### 統一閘道

AIGNE Hub 的基本設計原則是作為多個下游 AI 供應商的單一代理。應用程式向 Hub 發送請求，並指定所需模型（例如 `openai/gpt-4o`）。Hub 會驗證請求，核對權限和點數，然後使用安全儲存的 API 金鑰將請求轉發給相應的外部供應商。這將所有 AI 流量集中起來，使其更易於監控、記錄和控制。

### 部署情境

AIGNE Hub 支援兩種主要營運模式，以滿足不同的基礎設施和業務需求。

#### 企業自託管

對於需要對資料和基礎設施進行最大程度控制的組織而言，這是一個理想的情境。

-   **資料隱私**：所有請求和資料在路由到外部 AI 供應商之前，都在您自己的安全邊界內處理。
-   **直接計費**：您與 AI 供應商（例如 OpenAI、Anthropic）維持直接的帳務關係。AIGNE Hub 追蹤用量以進行內部成本分攤，但不處理外部付款。
-   **簡化管理**：開發團隊可以連接到單一的內部端點，無需管理多樣的 API 金鑰和憑證。

#### 服務供應商模式

此模式將 AIGNE Hub 轉變為一個多租戶、面向客戶的 AI 服務平台。

-   **基於點數的計費**：與 Payment Kit 整合，以啟用預付點數系統。使用者購買點數，然後根據其 AI 模型用量消耗點數。
-   **自訂定價**：管理員可以為每個模型設定自訂的定價費率和利潤率，從而建立一個可行的商業模式。
-   **自動化啟用**：系統支援自動使用者註冊，並可設定為向新使用者授予初始點數。

## 營運關鍵功能

AIGNE Hub 配備了一系列專為強健的營運管理和監控而設計的功能。

| 功能 | 描述 |
| :--- | :--- |
| **多供應商管理** | 集中式介面，用於設定和管理超過 8 家 AI 供應商的 API 金鑰，包括 OpenAI、Anthropic、Google Gemini，以及透過 Ollama 使用的本地模型。 |
| **統一安全性** | 為所有供應商的 API 金鑰提供加密儲存。透過 OAuth 整合和精細的使用者權限來控制存取。 |
| **用量分析** | 全面的儀表板，用於追蹤所有使用者、模型和供應商的 token 用量、請求量和成本。 |
| **彈性計費** | 在服務供應商模式下，提供一個完整的基於點數的計費系統，並附有詳細的用量追蹤和成本分析工具。 |
| **RESTful API** | 提供一組標準化的 HTTP 端點，以便與您網路上的任何應用程式或服務無縫整合。 |
| **內建測試平台** | 一個整合式 UI，用於即時測試設定好的模型並與之互動，有助於故障排除和驗證。 |